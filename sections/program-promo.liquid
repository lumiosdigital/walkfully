{%- liquid
  assign layout_style = section.settings.layout_style | default: 'homepage'
  assign is_benefits = false
  if layout_style == 'benefits'
    assign is_benefits = true
  endif
  assign show_label = section.settings.show_label
  assign show_cta = section.settings.show_cta
  assign show_features = section.settings.show_features
  assign show_benefits = section.settings.show_benefits
  assign image_position = section.settings.image_position | default: 'left'
  assign pattern_opacity = section.settings.pattern_opacity | divided_by: 100.0
-%}

<div
  class="
    program-promo
    program-promo--{{ layout_style }}
    {% if image_position == 'right' %}program-promo--image-right{% endif %}
    color-{{ section.settings.color_scheme }}
  "
  style="
    --content-bg-color: {{ section.settings.content_bg_color | default: '#D14626' }};
    --pattern-opacity: {{ pattern_opacity }};
    --label-color: {{ section.settings.label_color | default: '#FFCD68' }};
    --icon-color: {{ section.settings.feature_icon_color | default: '#FFCD68' }};
  "
>
  <div class="program-promo__image-wrapper">
    {% if section.settings.image != blank %}
      {% render 'image',
        image: section.settings.image,
        sizes: '50vw',
        wrapper_class: 'program-promo__image program-promo__image--desktop',
        no_radius: true
      %}
    {% else %}
      <div class="program-promo__image program-promo__image--desktop program-promo__placeholder">
        {{ 'lifestyle-1' | placeholder_svg_tag: 'placeholder-svg' }}
      </div>
    {% endif %}

    {% if section.settings.mobile_image != blank %}
      {% render 'image',
        image: section.settings.mobile_image,
        sizes: '100vw',
        wrapper_class: 'program-promo__image program-promo__image--mobile',
        no_radius: true
      %}
    {% elsif section.settings.image != blank %}
      {% render 'image',
        image: section.settings.image,
        sizes: '100vw',
        wrapper_class: 'program-promo__image program-promo__image--mobile',
        no_radius: true
      %}
    {% else %}
      <div class="program-promo__image program-promo__image--mobile program-promo__placeholder">
        {{ 'lifestyle-1' | placeholder_svg_tag: 'placeholder-svg' }}
      </div>
    {% endif %}
  </div>

  <div class="program-promo__content-wrapper">
    {% if section.settings.pattern_image != blank %}
      <div class="program-promo__pattern">
        {% render 'image',
          image: section.settings.pattern_image,
          sizes: '50vw',
          no_radius: true
        %}
      </div>
    {% endif %}

    <div class="program-promo__content">
      {% if show_label and section.settings.label_text != blank %}
        <div class="program-promo__label">
          {{ section.settings.label_text }}
        </div>
      {% endif %}

      {% if section.settings.heading_text != blank %}
        <h2 class="program-promo__heading">
          {{ section.settings.heading_text | newline_to_br }}
        </h2>
      {% endif %}

      {% if section.settings.description_text != blank %}
        <p class="program-promo__description">
          {{ section.settings.description_text | newline_to_br }}
        </p>
      {% endif %}

      {% unless is_benefits %}
        {% if show_features %}
          <ul class="program-promo__features">
            {% if section.settings.feature_1_text != blank %}
              <li class="program-promo__feature">
                {% render 'icon-star', class: 'program-promo__icon' %}
                <span>{{ section.settings.feature_1_text }}</span>
                {% render 'icon-star', class: 'program-promo__icon' %}
              </li>
            {% endif %}
            {% if section.settings.feature_2_text != blank %}
              <li class="program-promo__feature">
                {% render 'icon-star', class: 'program-promo__icon' %}
                <span>{{ section.settings.feature_2_text }}</span>
                {% render 'icon-star', class: 'program-promo__icon' %}
              </li>
            {% endif %}
            {% if section.settings.feature_3_text != blank %}
              <li class="program-promo__feature">
                {% render 'icon-star', class: 'program-promo__icon' %}
                <span>{{ section.settings.feature_3_text }}</span>
                {% render 'icon-star', class: 'program-promo__icon' %}
              </li>
            {% endif %}
          </ul>
        {% endif %}
      {% endunless %}

      {% if is_benefits and show_benefits %}
        <ul class="program-promo__benefits" role="list">
          {% if section.settings.benefit_1_title != blank %}
            <li class="program-promo__benefit">
              <div class="program-promo__benefit-header">
                {% render 'icon-star', class: 'program-promo__icon' %}
                <h3 class="program-promo__benefit-title">{{ section.settings.benefit_1_title }}</h3>
                {% render 'icon-star', class: 'program-promo__icon' %}
              </div>
              {% if section.settings.benefit_1_description != blank %}
                <p class="program-promo__benefit-description">{{ section.settings.benefit_1_description }}</p>
              {% endif %}
            </li>
          {% endif %}

          {% if section.settings.benefit_2_title != blank %}
            <li class="program-promo__benefit">
              <div class="program-promo__benefit-header">
                {% render 'icon-star', class: 'program-promo__icon' %}
                <h3 class="program-promo__benefit-title">{{ section.settings.benefit_2_title }}</h3>
                {% render 'icon-star', class: 'program-promo__icon' %}
              </div>
              {% if section.settings.benefit_2_description != blank %}
                <p class="program-promo__benefit-description">{{ section.settings.benefit_2_description }}</p>
              {% endif %}
            </li>
          {% endif %}

          {% if section.settings.benefit_3_title != blank %}
            <li class="program-promo__benefit">
              <div class="program-promo__benefit-header">
                {% render 'icon-star', class: 'program-promo__icon' %}
                <h3 class="program-promo__benefit-title">{{ section.settings.benefit_3_title }}</h3>
                {% render 'icon-star', class: 'program-promo__icon' %}
              </div>
              {% if section.settings.benefit_3_description != blank %}
                <p class="program-promo__benefit-description">{{ section.settings.benefit_3_description }}</p>
              {% endif %}
            </li>
          {% endif %}

          {% if section.settings.benefit_4_title != blank %}
            <li class="program-promo__benefit">
              <div class="program-promo__benefit-header">
                {% render 'icon-star', class: 'program-promo__icon' %}
                <h3 class="program-promo__benefit-title">{{ section.settings.benefit_4_title }}</h3>
                {% render 'icon-star', class: 'program-promo__icon' %}
              </div>
              {% if section.settings.benefit_4_description != blank %}
                <p class="program-promo__benefit-description">{{ section.settings.benefit_4_description }}</p>
              {% endif %}
            </li>
          {% endif %}

          {% if section.settings.benefit_5_title != blank %}
            <li class="program-promo__benefit">
              <div class="program-promo__benefit-header">
                {% render 'icon-star', class: 'program-promo__icon' %}
                <h3 class="program-promo__benefit-title">{{ section.settings.benefit_5_title }}</h3>
                {% render 'icon-star', class: 'program-promo__icon' %}
              </div>
              {% if section.settings.benefit_5_description != blank %}
                <p class="program-promo__benefit-description">{{ section.settings.benefit_5_description }}</p>
              {% endif %}
            </li>
          {% endif %}
        </ul>
      {% endif %}

      {% if show_cta and section.settings.button_text != blank %}
        {% if section.settings.button_link != blank %}
          <a href="{{ section.settings.button_link }}" class="program-promo__cta">
            {{ section.settings.button_text }}
          </a>
        {% else %}
          <span class="program-promo__cta program-promo__cta--disabled" aria-disabled="true">
            {{ section.settings.button_text }}
          </span>
        {% endif %}
      {% endif %}
    </div>
  </div>
</div>

<style>
  .program-promo {
    display: grid;
    grid-template-columns: 1fr 1fr;
    min-height: 100vh;
    overflow: hidden;
  }

  .program-promo--image-right {
    direction: rtl;
  }

  .program-promo--image-right > * {
    direction: ltr;
  }

  .program-promo__image-wrapper {
    position: relative;
    overflow: hidden;
  }

  .program-promo__image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }

  .program-promo__image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .program-promo__placeholder {
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #21262F;
  }

  .program-promo__placeholder svg {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .program-promo__image--mobile {
    display: none;
  }

  .program-promo__image--desktop {
    display: block;
  }

  .program-promo__content-wrapper {
    position: relative;
    background-color: var(--content-bg-color, #D14626);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 60px 40px;
    overflow: hidden;
  }

  .program-promo__pattern {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: var(--pattern-opacity, 0.2);
    pointer-events: none;
  }

  .program-promo__pattern .image,
  .program-promo__pattern .image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .program-promo__content {
    position: relative;
    z-index: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: 40px;
    max-width: 620px;
  }

  .program-promo__label {
    font-family: 'Crimson Pro', Georgia, serif;
    font-size: 61.75px;
    font-weight: 400;
    font-style: italic;
    line-height: 1;
    letter-spacing: -2.47px;
    color: var(--label-color, #FFCD68);
  }

  .program-promo__heading {
    font-family: 'Alte Haas Grotesk', Arial, sans-serif;
    font-size: 60px;
    font-weight: 700;
    line-height: 1;
    letter-spacing: -0.6px;
    text-transform: uppercase;
    color: #F7F1E5;
    margin: -20px 0 0 0;
  }

  .program-promo__description {
    font-family: 'Work Sans', Arial, sans-serif;
    font-size: 18px;
    font-style: normal;
    font-weight: 500;
    line-height: 1.4;
    letter-spacing: -0.18px;
    color: #F7F1E5;
    text-align: center;
    margin: 0;
    max-width: 489px;
  }

  .program-promo__features {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 24px;
  }

  .program-promo__feature {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    font-family: 'Alte Haas Grotesk', Arial, sans-serif;
    font-size: 24px;
    font-weight: 700;
    line-height: 0.9;
    letter-spacing: -0.24px;
    text-transform: uppercase;
    color: #F7F1E5;
  }

  .program-promo__icon {
    flex-shrink: 0;
    color: var(--icon-color, #FFCD68);
  }

  .program-promo__cta {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 10px 20px;
    height: 50px;
    background-color: #F7F1E5;
    border-radius: 3px;
    font-family: 'Work Sans', Arial, sans-serif;
    font-size: 15px;
    font-weight: 500;
    letter-spacing: -0.15px;
    color: #21262F;
    text-decoration: none;
    transition: opacity 0.2s ease;
  }

  .program-promo__cta:hover {
    opacity: 0.9;
  }

  .program-promo__cta:focus-visible {
    outline: 2px solid #F7F1E5;
    outline-offset: 3px;
  }

  .program-promo__cta--disabled {
    cursor: default;
    opacity: 0.7;
  }

  .program-promo__cta--disabled:hover {
    opacity: 0.7;
  }

  .program-promo--benefits .program-promo__heading {
    font-size: 50px;
    letter-spacing: -0.5px;
    margin: 0;
  }

  .program-promo--benefits .program-promo__description {
    max-width: 575px;
  }

  .program-promo__benefits {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 40px;
    width: 100%;
    max-width: 600px;
  }

  .program-promo__benefit {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    width: 100%;
  }

  .program-promo__benefit-header {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    width: 100%;
  }

  .program-promo__benefit-title {
    font-family: 'Alte Haas Grotesk', Arial, sans-serif;
    font-size: 24px;
    font-weight: 700;
    line-height: 0.9;
    letter-spacing: -0.24px;
    text-transform: uppercase;
    color: #F7F1E5;
    text-align: center;
    margin: 0;
  }

  .program-promo__benefit-description {
    font-family: 'Work Sans', Arial, sans-serif;
    font-size: 16px;
    font-style: normal;
    font-weight: 500;
    line-height: 1.4;
    letter-spacing: -0.16px;
    color: #F7F1E5;
    text-align: center;
    margin: 0;
  }

  @media screen and (max-width: 1250px) {
    .program-promo__feature {
      font-size: 18px;
    }

    .program-promo__icon {
      width: 14px;
      height: 14px;
    }
  }

  @media screen and (max-width: 990px) {
    .program-promo {
      grid-template-columns: 1fr;
      min-height: auto;
    }

    .program-promo--image-right {
      direction: ltr;
    }

    .program-promo__image-wrapper {
      position: relative;
      min-height: 50vh;
    }

    .program-promo__image--mobile {
      display: block;
    }

    .program-promo__image--desktop {
      display: none;
    }

    .program-promo__content-wrapper {
      padding: 50px 30px;
    }

    .program-promo__content {
      gap: 28px;
    }

    .program-promo__label {
      font-size: 44px;
      letter-spacing: -1.76px;
    }

    .program-promo__heading {
      font-size: 44px;
      margin-top: -12px;
    }

    .program-promo__description {
      font-size: 16px;
    }

    .program-promo__feature {
      font-size: 16px;
    }

    .program-promo__icon {
      width: 12px;
      height: 12px;
    }

    .program-promo--benefits .program-promo__heading {
      font-size: 36px;
      letter-spacing: -0.36px;
    }

    .program-promo__benefits {
      gap: 32px;
    }

    .program-promo__benefit-title {
      font-size: 20px;
      letter-spacing: -0.2px;
    }

    .program-promo__benefit-description {
      font-size: 14px;
    }
  }

  @media screen and (max-width: 749px) {
    .program-promo__image-wrapper {
      min-height: 40vh;
    }

    .program-promo__content-wrapper {
      padding: 40px 20px;
    }

    .program-promo__content {
      gap: 24px;
    }

    .program-promo__label {
      font-size: 32px;
      letter-spacing: -1.28px;
    }

    .program-promo__heading {
      font-size: 32px;
      margin-top: -8px;
    }

    .program-promo__description {
      font-size: 15px;
    }

    .program-promo__features {
      gap: 16px;
      width: 100%;
    }

    .program-promo__feature {
      font-size: 14px;
      gap: 8px;
    }

    .program-promo__icon {
      width: 10px;
      height: 10px;
    }

    .program-promo__cta {
      font-size: 14px;
      height: 44px;
      width: 100%;
      max-width: 280px;
    }

    .program-promo--benefits .program-promo__heading {
      font-size: 28px;
      letter-spacing: -0.28px;
    }

    .program-promo__benefits {
      gap: 28px;
    }

    .program-promo__benefit-header {
      flex-wrap: wrap;
      gap: 6px;
    }

    .program-promo__benefit-title {
      font-size: 16px;
      letter-spacing: -0.16px;
    }

    .program-promo__benefit-description {
      font-size: 13px;
      line-height: 1.5;
    }
  }

  @media screen and (max-width: 400px) {
    .program-promo__content-wrapper {
      padding: 32px 16px;
    }

    .program-promo__content {
      gap: 20px;
    }

    .program-promo__label {
      font-size: 28px;
    }

    .program-promo__heading {
      font-size: 28px;
    }

    .program-promo__description {
      font-size: 14px;
    }

    .program-promo__features {
      gap: 12px;
    }

    .program-promo__feature {
      font-size: 12px;
      gap: 6px;
    }

    .program-promo__icon {
      width: 8px;
      height: 8px;
    }

    .program-promo__cta {
      height: 44px;
      font-size: 13px;
    }

    .program-promo--benefits .program-promo__heading {
      font-size: 24px;
    }

    .program-promo__benefit-title {
      font-size: 14px;
    }

    .program-promo__benefit-description {
      font-size: 12px;
    }
  }
</style>

{% schema %}
{
  "name": "Program Promo",
  "class": "program-promo-section",
  "tag": "section",
  "disabled_on": {
    "groups": ["header", "footer"],
    "templates": ["password"]
  },
  "settings": [
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:sections.all.colors.label",
      "default": "scheme-1"
    },
    {
      "type": "header",
      "content": "t:sections.program-promo.settings.header__layout.content"
    },
    {
      "type": "select",
      "id": "layout_style",
      "label": "t:sections.program-promo.settings.layout_style.label",
      "options": [
        {
          "value": "homepage",
          "label": "t:sections.program-promo.settings.layout_style.option__homepage"
        },
        {
          "value": "benefits",
          "label": "t:sections.program-promo.settings.layout_style.option__benefits"
        }
      ],
      "default": "homepage"
    },
    {
      "type": "checkbox",
      "id": "show_label",
      "label": "t:sections.program-promo.settings.show_label.label",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_cta",
      "label": "t:sections.program-promo.settings.show_cta.label",
      "default": true
    },
    {
      "type": "header",
      "content": "Image"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Desktop image"
    },
    {
      "type": "image_picker",
      "id": "mobile_image",
      "label": "Mobile image",
      "info": "Optional. Uses desktop image if not set."
    },
    {
      "type": "select",
      "id": "image_position",
      "label": "Image position",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "left"
    },
    {
      "type": "header",
      "content": "Content Background"
    },
    {
      "type": "color",
      "id": "content_bg_color",
      "label": "Background color",
      "default": "#7C7A2E"
    },
    {
      "type": "image_picker",
      "id": "pattern_image",
      "label": "Background pattern image"
    },
    {
      "type": "range",
      "id": "pattern_opacity",
      "label": "Pattern opacity",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "%",
      "default": 20
    },
    {
      "type": "header",
      "content": "Label"
    },
    {
      "type": "text",
      "id": "label_text",
      "label": "Label text",
      "default": "free program"
    },
    {
      "type": "color",
      "id": "label_color",
      "label": "Label color",
      "default": "#FFCD68"
    },
    {
      "type": "header",
      "content": "Heading"
    },
    {
      "type": "textarea",
      "id": "heading_text",
      "label": "Heading text",
      "default": "The 14-Day\nWalking Reset"
    },
    {
      "type": "header",
      "content": "Description"
    },
    {
      "type": "textarea",
      "id": "description_text",
      "label": "Description text",
      "default": "A simple daily prompt. A moment of reflection.\nA steady return to your body, your breath, and your day."
    },
    {
      "type": "header",
      "content": "Features (Homepage Layout)"
    },
    {
      "type": "checkbox",
      "id": "show_features",
      "label": "Show features list",
      "default": true,
      "info": "Only displays when using homepage layout"
    },
    {
      "type": "text",
      "id": "feature_1_text",
      "label": "Feature 1",
      "default": "Daily walking prompt"
    },
    {
      "type": "text",
      "id": "feature_2_text",
      "label": "Feature 2",
      "default": "Mini check-ins that build awareness"
    },
    {
      "type": "text",
      "id": "feature_3_text",
      "label": "Feature 3",
      "default": "Supportive community"
    },
    {
      "type": "color",
      "id": "feature_icon_color",
      "label": "Icon color",
      "default": "#FFCD68"
    },
    {
      "type": "header",
      "content": "t:sections.program-promo.settings.header__benefits.content"
    },
    {
      "type": "checkbox",
      "id": "show_benefits",
      "label": "Show benefits list",
      "default": true,
      "info": "Only displays when using benefits layout"
    },
    {
      "type": "paragraph",
      "content": "t:sections.program-promo.settings.benefits_info.content"
    },
    {
      "type": "text",
      "id": "benefit_1_title",
      "label": "t:sections.program-promo.settings.benefit_1_title.label"
    },
    {
      "type": "textarea",
      "id": "benefit_1_description",
      "label": "t:sections.program-promo.settings.benefit_1_description.label"
    },
    {
      "type": "text",
      "id": "benefit_2_title",
      "label": "t:sections.program-promo.settings.benefit_2_title.label"
    },
    {
      "type": "textarea",
      "id": "benefit_2_description",
      "label": "t:sections.program-promo.settings.benefit_2_description.label"
    },
    {
      "type": "text",
      "id": "benefit_3_title",
      "label": "t:sections.program-promo.settings.benefit_3_title.label"
    },
    {
      "type": "textarea",
      "id": "benefit_3_description",
      "label": "t:sections.program-promo.settings.benefit_3_description.label"
    },
    {
      "type": "text",
      "id": "benefit_4_title",
      "label": "t:sections.program-promo.settings.benefit_4_title.label"
    },
    {
      "type": "textarea",
      "id": "benefit_4_description",
      "label": "t:sections.program-promo.settings.benefit_4_description.label"
    },
    {
      "type": "text",
      "id": "benefit_5_title",
      "label": "t:sections.program-promo.settings.benefit_5_title.label"
    },
    {
      "type": "textarea",
      "id": "benefit_5_description",
      "label": "t:sections.program-promo.settings.benefit_5_description.label"
    },
    {
      "type": "header",
      "content": "Button"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button text",
      "default": "Get on the list"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button link"
    },
    {
      "type": "header",
      "content": "Section Spacing"
    },
    {
      "type": "select",
      "id": "section_spacing_top",
      "label": "Top spacing",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "compact",
          "label": "Small"
        },
        {
          "value": "standard",
          "label": "Medium"
        },
        {
          "value": "large",
          "label": "Large"
        },
        {
          "value": "x-large",
          "label": "Extra Large"
        }
      ],
      "default": "none"
    },
    {
      "type": "select",
      "id": "section_spacing_bottom",
      "label": "Bottom spacing",
      "options": [
        {
          "value": "none",
          "label": "None"
        },
        {
          "value": "compact",
          "label": "Small"
        },
        {
          "value": "standard",
          "label": "Medium"
        },
        {
          "value": "large",
          "label": "Large"
        },
        {
          "value": "x-large",
          "label": "Extra Large"
        }
      ],
      "default": "none"
    },
    {
      "type": "header",
      "content": "Animations"
    },
    {
      "type": "checkbox",
      "id": "enable_animations",
      "label": "Enable animations",
      "default": true
    }
  ],
  "presets": [
    {
      "name": "Program Promo"
    }
  ]
}
{% endschema %}
